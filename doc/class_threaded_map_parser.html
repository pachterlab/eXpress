<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>eXpress: ThreadedMapParser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_small.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">eXpress&#160;<span id="projectnumber">0.9.5 BETA</span></div>
   <div id="projectbrief"><a href=http://bio.math.berkeley.edu/eXpress>http://bio.math.berkeley.edu/eXpress</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_threaded_map_parser.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>ThreadedMapParser Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ThreadedMapParser" -->
<p><code>#include &lt;<a class="el" href="mapparser_8h_source.html">mapparser.h</a>&gt;</code></p>

<p><a href="class_threaded_map_parser-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_threaded_map_parser.html#a932bcde8510748310959b1d7cbed3ba5">ThreadedMapParser</a> (std::string input_file, std::string output_file, bool write_active)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_threaded_map_parser.html#ac1722833023002b9dfc4e8245e05d473">~ThreadedMapParser</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_threaded_map_parser.html#a2dfed8f8dc4035d601bf79c74ebca53f">threaded_parse</a> (<a class="el" href="struct_parse_thread_safety.html">ParseThreadSafety</a> *thread_safety, <a class="el" href="class_target_table.html">TargetTable</a> *targ_table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const TransIndex &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_threaded_map_parser.html#a57dd3473e4abb1603e73e306e9ab29c7">targ_index</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const TransIndex &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_threaded_map_parser.html#a7dfa86761d5f67f1d32557635352a701">targ_lengths</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_threaded_map_parser.html#a0fd1dcdf0b8b665ff4f15850f20e5a84">write_active</a> (bool b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_threaded_map_parser.html#ac6afab8a3e2e8975553e64c634a9f428">reset_reader</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_threaded_map_parser.html">ThreadedMapParser</a> class is meant to be run on as a separate thread from the main processing. Once started, this thread will read input from a file or stream in SAM/BAM format, parse, and collect read alignments into fragment alignments, and fragment alignments into fragments, which are placed on a buffer for the processing thread. Once the processing thread copies the fragment address from the buffer, the parser is unlocked to load the next fragment. The process stops when EOF is reached </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Adam Roberts </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2011  Artistic License 2.0 </dd></dl>

<p>Definition at line <a class="el" href="mapparser_8h_source.html#l00348">348</a> of file <a class="el" href="mapparser_8h_source.html">mapparser.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a932bcde8510748310959b1d7cbed3ba5"></a><!-- doxytag: member="ThreadedMapParser::ThreadedMapParser" ref="a932bcde8510748310959b1d7cbed3ba5" args="(std::string input_file, std::string output_file, bool write_active)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ThreadedMapParser::ThreadedMapParser </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>input_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>output_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>write_active</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_threaded_map_parser.html">ThreadedMapParser</a> constructor determines what format the input is in and initializes the correct parser. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">input_file</td><td>string containing the path to the input SAM/BAM file </td></tr>
    <tr><td class="paramname">output_file</td><td>string containing the path the output file less its extension (empty if writing is to be disabled) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mapparser_8cpp_source.html#l00097">97</a> of file <a class="el" href="mapparser_8cpp_source.html">mapparser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac1722833023002b9dfc4e8245e05d473"></a><!-- doxytag: member="ThreadedMapParser::~ThreadedMapParser" ref="ac1722833023002b9dfc4e8245e05d473" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ThreadedMapParser::~ThreadedMapParser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_threaded_map_parser.html">ThreadedMapParser</a> destructor deletes the parser and writer (if it exists). </p>

<p>Definition at line <a class="el" href="mapparser_8cpp_source.html#l00161">161</a> of file <a class="el" href="mapparser_8cpp_source.html">mapparser.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac6afab8a3e2e8975553e64c634a9f428"></a><!-- doxytag: member="ThreadedMapParser::reset_reader" ref="ac6afab8a3e2e8975553e64c634a9f428" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreadedMapParser::reset_reader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a member function that resets the input parser </p>

<p>Definition at line <a class="el" href="mapparser_8h_source.html#l00409">409</a> of file <a class="el" href="mapparser_8h_source.html">mapparser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57dd3473e4abb1603e73e306e9ab29c7"></a><!-- doxytag: member="ThreadedMapParser::targ_index" ref="a57dd3473e4abb1603e73e306e9ab29c7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const TransIndex&amp; ThreadedMapParser::targ_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a member function that returns the target-to-index map </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the target-to-index map </dd></dl>

<p>Definition at line <a class="el" href="mapparser_8h_source.html#l00391">391</a> of file <a class="el" href="mapparser_8h_source.html">mapparser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7dfa86761d5f67f1d32557635352a701"></a><!-- doxytag: member="ThreadedMapParser::targ_lengths" ref="a7dfa86761d5f67f1d32557635352a701" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const TransIndex&amp; ThreadedMapParser::targ_lengths </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a member function that returns the target-to-length map </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the target-to-length map </dd></dl>

<p>Definition at line <a class="el" href="mapparser_8h_source.html#l00397">397</a> of file <a class="el" href="mapparser_8h_source.html">mapparser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2dfed8f8dc4035d601bf79c74ebca53f"></a><!-- doxytag: member="ThreadedMapParser::threaded_parse" ref="a2dfed8f8dc4035d601bf79c74ebca53f" args="(ParseThreadSafety *thread_safety, TargetTable *targ_table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreadedMapParser::threaded_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_parse_thread_safety.html">ParseThreadSafety</a> *&#160;</td>
          <td class="paramname"><em>thread_safety</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_target_table.html">TargetTable</a> *&#160;</td>
          <td class="paramname"><em>targ_table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a member function that drives the parse thread when all valid mappings of a fragment have been parsed, its mapped targets are found and the information is passed in a <a class="el" href="class_fragment.html">Fragment</a> object to the processing thread through the <a class="el" href="struct_parse_thread_safety.html">ParseThreadSafety</a> struct </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">thread_safety</td><td>a pointer to the struct containing shared locks and data with the processing thread </td></tr>
    <tr><td class="paramname">targ_table</td><td>a pointer to the table of <a class="el" href="class_target.html">Target</a> objects to lookup the mapped targets </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mapparser_8cpp_source.html#l00168">168</a> of file <a class="el" href="mapparser_8cpp_source.html">mapparser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0fd1dcdf0b8b665ff4f15850f20e5a84"></a><!-- doxytag: member="ThreadedMapParser::write_active" ref="a0fd1dcdf0b8b665ff4f15850f20e5a84" args="(bool b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreadedMapParser::write_active </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a member function that sets the write-active status of the parser this specifies whether or not the alignments (sampled or with probs) sould be ouptut </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>updated write-active status </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mapparser_8h_source.html#l00404">404</a> of file <a class="el" href="mapparser_8h_source.html">mapparser.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="mapparser_8h_source.html">mapparser.h</a></li>
<li>src/<a class="el" href="mapparser_8cpp_source.html">mapparser.cpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_threaded_map_parser.html">ThreadedMapParser</a>      </li>
      <li class="footer">Generated on Sun Apr 8 2012 11:49:02 for eXpress by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
